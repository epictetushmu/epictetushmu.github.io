import{u as w}from"./news-CvrpoFQy.js";import{A as l}from"./AppButton-CLDaavbx.js";import{u as x}from"./useStatusMessage-BE-JAxgR.js";import{_ as D,r as f,c as _,b,d as a,f as c,w as u,g as d}from"./index-lMPH8_VB.js";import"./LoadingSpinner-BszNLXuH.js";/* empty css                                                                       *//* empty css                                                                  */const k={class:"admin-section"},h={class:"settings-grid"},I={class:"setting-card"},S={class:"setting-actions"},C={__name:"AdminSettings",setup(A){const n=w(),{showMessage:s}=x(),i=f(!1),p=f(null),m=()=>{try{const e=n.exportData(),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=`epictetus-news-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),s("Data exported successfully","success")}catch{s("Failed to export data","error")}},g=()=>{var e;(e=p.value)==null||e.click()},y=async e=>{const t=e.target.files[0];if(t){try{const r=await t.text(),o=await n.importData(r);o.success?s("Data imported successfully","success"):s(o.error||"Failed to import data","error")}catch{s("Invalid file format","error")}e.target.value=""}},v=async()=>{if(confirm("Are you sure you want to reset all data to default? This cannot be undone.")){i.value=!0;try{const e=await n.resetToDefault();e.success?s("Data reset to default successfully","success"):s(e.error||"Failed to reset data","error")}catch{s("An error occurred while resetting data","error")}finally{i.value=!1}}};return(e,t)=>(b(),_("div",k,[t[5]||(t[5]=a("div",{class:"section-header"},[a("h2",null,"Settings")],-1)),a("div",h,[a("div",I,[t[3]||(t[3]=a("h3",null,"Data Management",-1)),t[4]||(t[4]=a("p",null,"Export or import news data",-1)),a("div",S,[c(l,{onClick:m,variant:"outline"},{default:u(()=>[...t[0]||(t[0]=[d(" ðŸ“¤ Export Data ",-1)])]),_:1}),c(l,{onClick:g,variant:"outline"},{default:u(()=>[...t[1]||(t[1]=[d(" ðŸ“¥ Import Data ",-1)])]),_:1}),c(l,{onClick:v,variant:"outline",loading:i.value},{default:u(()=>[...t[2]||(t[2]=[d(" ðŸ”„ Reset to Default ",-1)])]),_:1},8,["loading"])])])]),a("input",{ref_key:"fileInput",ref:p,type:"file",accept:".json",onChange:y,style:{display:"none"}},null,544)]))}},T=D(C,[["__scopeId","data-v-b544d818"]]);export{T as default};
