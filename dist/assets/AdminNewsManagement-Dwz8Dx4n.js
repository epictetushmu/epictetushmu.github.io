import{u as E}from"./news-CvrpoFQy.js";import{A as y}from"./AppButton-CLDaavbx.js";import{A as b,a as L}from"./ArticleEditor-BT7S23DP.js";import{L as z}from"./LoadingSpinner-BszNLXuH.js";import{u as B}from"./useStatusMessage-BE-JAxgR.js";import{_ as D,r as v,j as F,o as $,c as l,b as o,d as t,f as d,l as k,w as m,g as A,u as p,F as V,k as I,n as j,t as r}from"./index-lMPH8_VB.js";/* empty css                                                                  *//* empty css                                                                       */const T={class:"admin-section"},U={class:"section-header"},q={class:"articles-list"},G={key:0,class:"loading-state"},H={key:1,class:"empty-state"},J={key:2,class:"articles-grid"},K={class:"article-header"},O={class:"article-title"},P={class:"article-badges"},Q={key:0,class:"badge featured"},R={class:"badge category"},W={class:"article-meta"},X={class:"author"},Y={class:"date"},Z={class:"stats"},ee={class:"article-excerpt"},te={class:"article-actions"},se={__name:"AdminNewsManagement",setup(ae){const i=E(),{statusMessage:_,showMessage:n}=B(),f=v(!1),c=v(!1),u=v(null),g=v(null),w=F(()=>i.articles),M=a=>{u.value={...a},c.value=!0},C=async a=>{if(confirm(`Are you sure you want to delete "${a.title}"?`)){g.value=a.id;try{const e=await i.deleteArticle(a.id);e.success?n("Article deleted successfully","success"):n(e.error||"Failed to delete article","error")}catch{n("An error occurred while deleting the article","error")}finally{g.value=null}}},N=async a=>{try{let e;if(c.value?e=await i.updateArticle(u.value.id,a):e=await i.addArticle(a),e.success){h();const s=c.value?"updated":"created";n(`Article ${s} successfully`,"success")}else n(e.error||"Failed to save article","error")}catch{n("An error occurred while saving the article","error")}},h=()=>{f.value=!1,c.value=!1,u.value=null},S=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return $(()=>{i.clearError()}),(a,e)=>(o(),l("div",T,[t("div",U,[e[2]||(e[2]=t("h2",null,"News Management",-1)),d(y,{onClick:e[0]||(e[0]=s=>f.value=!0),variant:"primary"},{default:m(()=>[...e[1]||(e[1]=[t("span",{class:"icon"},"ðŸ“",-1),A(" Add New Article ",-1)])]),_:1})]),t("div",q,[p(i).isLoading?(o(),l("div",G,[d(z,{size:"large"}),e[3]||(e[3]=t("p",null,"Loading articles...",-1))])):w.value.length===0?(o(),l("div",H,[...e[4]||(e[4]=[t("div",{class:"empty-icon"},"ðŸ“°",-1),t("h3",null,"No articles found",-1),t("p",null,"Start by creating your first news article",-1)])])):(o(),l("div",J,[(o(!0),l(V,null,I(w.value,s=>(o(),l("div",{key:s.id,class:"article-card"},[t("div",K,[t("h3",O,r(s.title),1),t("div",P,[s.featured?(o(),l("span",Q,"Featured")):k("",!0),t("span",R,r(s.category),1)])]),t("div",W,[t("span",X,"By "+r(s.author),1),t("span",Y,r(S(s.publishedDate)),1),t("span",Z," ðŸ‘ï¸ "+r(s.views)+" | â¤ï¸ "+r(s.likes),1)]),t("p",ee,r(s.description),1),t("div",te,[d(y,{onClick:x=>M(s),variant:"outline",size:"small"},{default:m(()=>[...e[5]||(e[5]=[A(" âœï¸ Edit ",-1)])]),_:1},8,["onClick"]),d(y,{onClick:x=>C(s),variant:"outline",size:"small",loading:g.value===s.id},{default:m(()=>[...e[6]||(e[6]=[A(" ðŸ—‘ï¸ Delete ",-1)])]),_:1},8,["onClick","loading"])])]))),128))]))]),d(L,{show:f.value||c.value,onClose:h,title:"Article Editor",size:"large"},{default:m(()=>[d(b,{article:u.value,isEditing:c.value,onSave:N,onCancel:h},null,8,["article","isEditing"])]),_:1},8,["show"]),p(_).text?(o(),l("div",{key:0,class:j(["message",p(_).type])},r(p(_).text),3)):k("",!0)]))}},ve=D(se,[["__scopeId","data-v-3ce40e89"]]);export{ve as default};
