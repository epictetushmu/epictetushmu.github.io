import{_ as U,j as h,y as w,a as A,c as m,l as y,b as p,d as t,A as C,t as x,i as E,n as S,B as $,x as B,r as V,o as M,m as d,q as u,C as O,e as q,v as j}from"./index-lMPH8_VB.js";const I=["aria-labelledby","aria-describedby"],D={key:0,class:"modal-header"},L=["id"],F=["id"],T={key:1,class:"modal-footer"},z={__name:"AppModal",props:{show:{type:Boolean,required:!0},title:{type:String,default:null},size:{type:String,default:"medium",validator:i=>["small","medium","large","fullscreen"].includes(i)},closeOnOverlayClick:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1}},emits:["close","opened","closed"],setup(i,{emit:k}){const n=i,l=k,f=h(()=>`modal-title-${Math.random().toString(36).substr(2,9)}`),o=h(()=>`modal-content-${Math.random().toString(36).substr(2,9)}`),c=h(()=>["modal-content",`modal-content--${n.size}`,{"modal-content--persistent":n.persistent}]),b=()=>{n.closeOnOverlayClick&&!n.persistent&&v()},v=()=>{n.persistent||l("close")},g=r=>{r.key==="Escape"&&n.show&&!n.persistent&&v()};return w(()=>n.show,async r=>{if(r){document.body.style.overflow="hidden",document.addEventListener("keydown",g),await $();const a=document.querySelector(".modal-content");a&&a.focus(),l("opened")}else document.body.style.overflow="auto",document.removeEventListener("keydown",g),l("closed")}),A(()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",g)}),(r,a)=>i.show?(p(),m("div",{key:0,class:"modal-overlay",onClick:b},[t("div",{class:S(["modal-content",c.value]),onClick:a[0]||(a[0]=E(()=>{},["stop"])),role:"dialog","aria-labelledby":f.value,"aria-describedby":o.value},[r.$slots.header||i.title?(p(),m("div",D,[i.title?(p(),m("h3",{key:0,id:f.value,class:"modal-title"},x(i.title),9,L)):y("",!0),C(r.$slots,"header",{},void 0),i.showCloseButton?(p(),m("button",{key:1,class:"modal-close",onClick:v,"aria-label":"Close modal"}," Ã— ")):y("",!0)])):y("",!0),t("div",{class:"modal-body",id:o.value},[C(r.$slots,"default",{},void 0)],8,F),r.$slots.footer?(p(),m("div",T,[C(r.$slots,"footer",{},void 0)])):y("",!0)],10,I)])):y("",!0)}},te=U(z,[["__scopeId","data-v-93f646d5"]]),N={class:"article-editor"},R={class:"form-group"},G={class:"form-group"},K={class:"form-group"},P={class:"form-group"},H={class:"form-group"},J={class:"form-group"},Q={class:"form-group"},W={class:"form-group checkbox-group"},X={class:"checkbox-label"},Y={class:"form-actions"},Z=["disabled"],_={__name:"ArticleEditor",props:{article:{type:Object,default:null},isEditing:{type:Boolean,default:!1}},emits:["save","cancel"],setup(i,{expose:k,emit:n}){const l=i,f=n,o=B({title:"",description:"",content:"",category:"",tags:[],imageUrl:"",author:"Admin",published:!0}),c=V(""),b=h(()=>o.title.trim()&&o.description.trim()&&o.content.trim()&&o.category);w(c,a=>{a?o.tags=a.split(",").map(e=>e.trim()).filter(e=>e):o.tags=[]}),M(()=>{l.isEditing&&l.article&&(Object.assign(o,{title:l.article.title||"",description:l.article.description||"",content:l.article.content||"",category:l.article.category||"",tags:l.article.tags||[],imageUrl:l.article.imageUrl||"",author:l.article.author||"Admin",published:l.article.published!==!1}),c.value=o.tags.join(", "))});const v=()=>{if(!b.value)return;const a={...o,tags:o.tags.filter(e=>e.trim())};l.isEditing&&l.article&&(a.id=l.article.id),f("save",a)},g=()=>{f("cancel")};return k({resetForm:()=>{Object.assign(o,{title:"",description:"",content:"",category:"",tags:[],imageUrl:"",author:"Admin",published:!0}),c.value=""}}),(a,e)=>(p(),m("div",N,[t("form",{onSubmit:E(v,["prevent"]),class:"editor-form"},[t("div",R,[e[8]||(e[8]=t("label",{for:"title"},"Title *",-1)),d(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=s=>o.title=s),type:"text",placeholder:"Enter article title",required:"",class:"form-input"},null,512),[[u,o.title]])]),t("div",G,[e[9]||(e[9]=t("label",{for:"description"},"Description *",-1)),d(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=s=>o.description=s),placeholder:"Brief description of the article",required:"",class:"form-textarea",rows:"3"},null,512),[[u,o.description]])]),t("div",K,[e[10]||(e[10]=t("label",{for:"content"},"Content *",-1)),d(t("textarea",{id:"content","onUpdate:modelValue":e[2]||(e[2]=s=>o.content=s),placeholder:"Full article content",required:"",class:"form-textarea content-editor",rows:"10"},null,512),[[u,o.content]])]),t("div",P,[e[12]||(e[12]=t("label",{for:"category"},"Category *",-1)),d(t("select",{id:"category","onUpdate:modelValue":e[3]||(e[3]=s=>o.category=s),required:"",class:"form-select"},[...e[11]||(e[11]=[q('<option value="" data-v-59228a40>Select a category</option><option value="academic" data-v-59228a40>Academic</option><option value="events" data-v-59228a40>Events</option><option value="announcements" data-v-59228a40>Announcements</option><option value="research" data-v-59228a40>Research</option><option value="student-life" data-v-59228a40>Student Life</option><option value="general" data-v-59228a40>General</option>',7)])],512),[[O,o.category]])]),t("div",H,[e[13]||(e[13]=t("label",{for:"tags"},"Tags",-1)),d(t("input",{id:"tags","onUpdate:modelValue":e[4]||(e[4]=s=>c.value=s),type:"text",placeholder:"Enter tags separated by commas (e.g., philosophy, stoicism, ethics)",class:"form-input"},null,512),[[u,c.value]]),e[14]||(e[14]=t("small",{class:"form-help"},"Separate multiple tags with commas",-1))]),t("div",J,[e[15]||(e[15]=t("label",{for:"imageUrl"},"Image URL",-1)),d(t("input",{id:"imageUrl","onUpdate:modelValue":e[5]||(e[5]=s=>o.imageUrl=s),type:"url",placeholder:"https://example.com/image.jpg",class:"form-input"},null,512),[[u,o.imageUrl]])]),t("div",Q,[e[16]||(e[16]=t("label",{for:"author"},"Author",-1)),d(t("input",{id:"author","onUpdate:modelValue":e[6]||(e[6]=s=>o.author=s),type:"text",placeholder:"Author name",class:"form-input"},null,512),[[u,o.author]])]),t("div",W,[t("label",X,[d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.published=s),type:"checkbox",class:"form-checkbox"},null,512),[[j,o.published]]),e[17]||(e[17]=t("span",{class:"checkbox-text"},"Publish immediately",-1))])]),t("div",Y,[t("button",{type:"button",onClick:g,class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-primary",disabled:!b.value},x(i.isEditing?"Update Article":"Create Article"),9,Z)])],32)]))}},oe=U(_,[["__scopeId","data-v-59228a40"]]);export{oe as A,te as a};
