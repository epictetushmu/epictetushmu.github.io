import{u as q}from"./news-Cw_4Spbn.js";import{A as F,u as G,P as K}from"./useBreadcrumbs-O-vToKG6.js";import{C as Q,F as J}from"./ContentCard-DjTEz14B.js";import{_ as M,g as C,h as A,a,i as W,w as y,b as i,c as n,F as U,j as D,t as u,k as r,n as P,f as E,l as h,e as V,u as X}from"./index-DpsdNvvR.js";const Y={class:"news-actions"},_={class:"news-metadata"},ee={class:"news-stats"},te={key:0,class:"stat-item"},ae={class:"stat-text"},se={key:1,class:"stat-item"},ie={class:"stat-text"},ne={key:2,class:"stat-item"},oe={class:"stat-text"},le={key:3,class:"stat-item"},re={class:"stat-text"},ce={class:"news-indicators"},de={key:0,class:"breaking-news"},ue={key:1,class:"sponsored-tag"},ve={key:2,class:"trending-tag"},he={key:3,class:"priority-tag"},ge={key:0,class:"content-types"},me={class:"news-topics"},ye={class:"topic-list"},ke=["onClick"],we={__name:"NewsCard",props:{article:{type:Object,required:!0},variant:{type:String,default:"default",validator:e=>["default","compact","featured","minimal"].includes(e)},layout:{type:String,default:"vertical",validator:e=>["vertical","horizontal","grid"].includes(e)},elevation:{type:Number,default:1},showActions:{type:Boolean,default:!0},showSaveButton:{type:Boolean,default:!0},showSourceButton:{type:Boolean,default:!0},isArticleLiked:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1},maxDescriptionLength:{type:Number,default:200}},emits:["like","unlike","share","save","unsave","view-source","topic-click"],setup(e,{emit:v}){const l=e,c=v,g=C(()=>`/news/article/${l.article.id||l.article.slug}`),b=s=>({Breaking:"#F44336",Politics:"#3F51B5",Technology:"#2196F3",Science:"#4CAF50",Business:"#FF9800",Sports:"#9C27B0",Entertainment:"#E91E63",Health:"#00BCD4",Environment:"#8BC34A",Education:"#795548"})[s]||"#2196F3",m=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":(s==null?void 0:s.toString())||"0",k=s=>({video:"ðŸŽ¥",audio:"ðŸŽµ",gallery:"ðŸ–¼ï¸",live:"ðŸ”´",interactive:"ðŸŽ®",opinion:"ðŸ’­",analysis:"ðŸ“Š",interview:"ðŸŽ¤"})[s]||"ðŸ“„",B=s=>({video:"Video",audio:"Audio",gallery:"Photo Gallery",live:"Live Coverage",interactive:"Interactive",opinion:"Opinion",analysis:"Analysis",interview:"Interview"})[s]||s,T=()=>{c("like",l.article)},L=()=>{c("unlike",l.article)},w=s=>{c("share",{...s,article:l.article})},p=()=>{l.isSaved?c("unsave",l.article):c("save",l.article)},x=()=>{c("view-source",l.article)},N=s=>{c("topic-click",s)};return(s,o)=>(a(),A(Q,{title:e.article.title,description:e.article.excerpt||e.article.summary,imageSrc:e.article.imageUrl||e.article.featuredImage,imageAlt:`${e.article.title} cover image`,author:e.article.author,source:e.article.source,category:e.article.category,categoryColor:b(e.article.category),date:e.article.publishedDate||e.article.createdAt,tags:e.article.tags,linkTo:g.value,variant:e.variant,layout:e.layout,elevation:e.elevation,expandable:!0,maxDescriptionLength:e.maxDescriptionLength,likeable:!0,likeCount:e.article.likes||0,isLiked:e.isArticleLiked,shareable:!0,showDefaultActions:e.showActions,onLike:T,onUnlike:L,onShare:w,class:"news-card"},W({actions:y(()=>[i("div",Y,[e.showSaveButton?(a(),A(F,{key:0,size:"small",variant:e.isSaved?"solid":"outline",onClick:p,class:"save-btn"},{default:y(()=>[E(u(e.isSaved?"ðŸ”–":"ðŸ“Œ")+" "+u(e.isSaved?"Saved":"Save"),1)]),_:1},8,["variant"])):r("",!0),e.showSourceButton?(a(),A(F,{key:1,size:"small",variant:"outline",onClick:x,class:"source-btn"},{default:y(()=>[...o[0]||(o[0]=[E(" ðŸ”— Source ",-1)])]),_:1})):r("",!0)])]),default:y(()=>[i("div",_,[i("div",ee,[e.article.readingTime?(a(),n("span",te,[o[1]||(o[1]=i("span",{class:"stat-icon"},"â±ï¸",-1)),i("span",ae,u(e.article.readingTime)+" read",1)])):r("",!0),e.article.views?(a(),n("span",se,[o[2]||(o[2]=i("span",{class:"stat-icon"},"ðŸ‘ï¸",-1)),i("span",ie,u(m(e.article.views))+" views",1)])):r("",!0),e.article.comments?(a(),n("span",ne,[o[3]||(o[3]=i("span",{class:"stat-icon"},"ðŸ’¬",-1)),i("span",oe,u(m(e.article.comments))+" comments",1)])):r("",!0),e.article.shares?(a(),n("span",le,[o[4]||(o[4]=i("span",{class:"stat-icon"},"ðŸ“¤",-1)),i("span",re,u(m(e.article.shares))+" shares",1)])):r("",!0)]),i("div",ce,[e.article.isBreaking?(a(),n("span",de," ðŸš¨ Breaking News ")):r("",!0),e.article.isSponsored?(a(),n("span",ue," ðŸ’¼ Sponsored ")):r("",!0),e.article.isTrending?(a(),n("span",ve," ðŸ“ˆ Trending ")):r("",!0),e.article.priority==="high"?(a(),n("span",he," âš¡ Priority ")):r("",!0)]),e.article.contentTypes&&e.article.contentTypes.length?(a(),n("div",ge,[(a(!0),n(U,null,D(e.article.contentTypes,d=>(a(),n("span",{key:d,class:P(["content-type",`content-type--${d}`])},u(k(d))+" "+u(B(d)),3))),128))])):r("",!0)])]),_:2},[e.article.topics&&e.article.topics.length?{name:"footer",fn:y(()=>[i("div",me,[o[5]||(o[5]=i("span",{class:"topics-label"},"Related Topics:",-1)),i("div",ye,[(a(!0),n(U,null,D(e.article.topics,d=>(a(),n("button",{key:d,class:"topic-tag",onClick:$=>N(d)},u(d),9,ke))),128))])])]),key:"0"}:void 0]),1032,["title","description","imageSrc","imageAlt","author","source","category","categoryColor","date","tags","linkTo","variant","layout","elevation","maxDescriptionLength","likeCount","isLiked","showDefaultActions"]))}},fe=M(we,[["__scopeId","data-v-9037ad34"]]),Se={class:"page-container"},Ce={key:1,class:"load-more-section"},Ae={key:2,class:"empty-state"},be={__name:"NewsView",setup(e){const v=q(),l=h(""),c=h("all"),g=h("grid"),b=h(""),m=h(!0),k=h(!1),{breadcrumbs:B}=G("News"),T=C(()=>v.categories);C(()=>v.articles);const L=h([{value:"date",label:"Latest First"},{value:"title",label:"Title A-Z"},{value:"author",label:"Author A-Z"},{value:"views",label:"Most Viewed"},{value:"likes",label:"Most Liked"}]),w=C(()=>l.value?v.searchArticles(l.value,c.value):v.articlesByCategory(c.value)),p=t=>({id:t.id,title:t.title,description:t.description,content:t.content,author:t.author,category:t.category,publishedDate:t.publishedDate,imageUrl:t.imageUrl,tags:t.tags,readTime:t.readTime,views:t.views,likes:t.likes,featured:t.featured,isBreaking:!1,isTrending:t.featured,topics:t.tags.slice(0,2),contentTypes:t.featured?["featured"]:[]}),x=t=>{c.value=t},N=t=>{l.value=t},s=t=>{b.value=t},o=t=>{g.value=t},d=t=>{v.incrementViews(t.id)},$=t=>{console.log("Article saved:",t.title)},z=t=>{console.log("Article unsaved:",t.title)},I=t=>{v.likeArticle(t.id)},O=t=>{console.log("Article unliked:",t.title)},j=t=>{console.log("Article shared:",t)},R=t=>{console.log("View source for:",t.title)},H=t=>{},Z=async()=>{k.value=!0,await new Promise(t=>setTimeout(t,1e3)),m.value=!1,k.value=!1};return(t,f)=>(a(),n("div",Se,[V(K,{title:"Latest News & Updates",description:"Stay informed with the latest developments, insights, and announcements from the Epictetus EE Team",breadcrumbs:X(B),showBreadcrumbs:!0},null,8,["breadcrumbs"]),V(J,{categories:T.value,defaultCategory:"all",showSearch:!0,searchPlaceholder:"Search news...",showSort:!0,sortOptions:L.value,showViewToggle:!0,"onUpdate:category":x,"onUpdate:search":N,"onUpdate:sort":s,"onUpdate:view":o},null,8,["categories","sortOptions"]),w.value.length>0?(a(),n("div",{key:0,class:P(["news-container",`news-container--${g.value}`])},[(a(!0),n(U,null,D(w.value,S=>(a(),A(fe,{key:S.id,article:p(S),variant:g.value==="list"?"compact":"default",layout:g.value==="list"?"horizontal":"vertical",isArticleLiked:S.isLiked,isSaved:S.isSaved,onRead:d,onSave:$,onUnsave:z,onLike:I,onUnlike:O,onShare:j,onViewSource:R,onTopicClick:H},null,8,["article","variant","layout","isArticleLiked","isSaved"]))),128))],2)):r("",!0),m.value&&w.value.length>0?(a(),n("div",Ce,[V(F,{variant:"outline",size:"large",onClick:Z,loading:k.value},{default:y(()=>[...f[0]||(f[0]=[E(" Load More Articles ",-1)])]),_:1},8,["loading"])])):(a(),n("div",Ae,[...f[1]||(f[1]=[i("div",{class:"empty-icon"},"ðŸ“°",-1),i("h3",null,"No articles found",-1),i("p",null,"Try adjusting your search or filter criteria",-1)])]))]))}},xe=M(be,[["__scopeId","data-v-ba3daac5"]]);export{xe as default};
