import{_ as k,g as c,z as b,H as w,c as l,k as a,a as n,b as f,C as u,t as C,p as B,n as g,I as $}from"./index-DpsdNvvR.js";const E=["aria-labelledby","aria-describedby"],S={key:0,class:"modal-header"},M=["id"],O=["id"],z={key:1,class:"modal-footer"},I={__name:"AppModal",props:{show:{type:Boolean,required:!0},title:{type:String,default:null},size:{type:String,default:"medium",validator:t=>["small","medium","large","fullscreen"].includes(t)},closeOnOverlayClick:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1}},emits:["close","opened","closed"],setup(t,{emit:p}){const o=t,d=p,m=c(()=>`modal-title-${Math.random().toString(36).substr(2,9)}`),y=c(()=>`modal-content-${Math.random().toString(36).substr(2,9)}`),v=c(()=>["modal-content",`modal-content--${o.size}`,{"modal-content--persistent":o.persistent}]),h=()=>{o.closeOnOverlayClick&&!o.persistent&&i()},i=()=>{o.persistent||d("close")},r=e=>{e.key==="Escape"&&o.show&&!o.persistent&&i()};return b(()=>o.show,async e=>{if(e){document.body.style.overflow="hidden",document.addEventListener("keydown",r),await $();const s=document.querySelector(".modal-content");s&&s.focus(),d("opened")}else document.body.style.overflow="auto",document.removeEventListener("keydown",r),d("closed")}),w(()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",r)}),(e,s)=>t.show?(n(),l("div",{key:0,class:"modal-overlay",onClick:h},[f("div",{class:g(["modal-content",v.value]),onClick:s[0]||(s[0]=B(()=>{},["stop"])),role:"dialog","aria-labelledby":m.value,"aria-describedby":y.value},[e.$slots.header||t.title?(n(),l("div",S,[t.title?(n(),l("h3",{key:0,id:m.value,class:"modal-title"},C(t.title),9,M)):a("",!0),u(e.$slots,"header",{},void 0),t.showCloseButton?(n(),l("button",{key:1,class:"modal-close",onClick:i,"aria-label":"Close modal"}," Ã— ")):a("",!0)])):a("",!0),f("div",{class:"modal-body",id:y.value},[u(e.$slots,"default",{},void 0)],8,O),e.$slots.footer?(n(),l("div",z,[u(e.$slots,"footer",{},void 0)])):a("",!0)],10,E)])):a("",!0)}},A=k(I,[["__scopeId","data-v-93f646d5"]]);export{A};
